<!DOCTYPE html>
<html lang="en" data-color-mode="auto" data-light-theme="light" data-dark-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arial Gardner Â· GitHub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --color-canvas-default: #ffffff;
            --color-canvas-subtle: #f6f8fa;
            --color-border-default: #d0d7de;
            --color-border-muted: #d8dee4;
            --color-fg-default: #1f2328;
            --color-fg-muted: #656d76;
            --color-fg-subtle: #6e7781;
            --color-accent-emphasis: #0969da;
            --color-accent-fg: #0969da;
            --color-success-fg: #1a7f37;
            --font-stack: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --color-canvas-default: #0d1117;
                --color-canvas-subtle: #161b22;
                --color-border-default: #30363d;
                --color-border-muted: #21262d;
                --color-fg-default: #e6edf3;
                --color-fg-muted: #8b949e;
                --color-fg-subtle: #7d8590;
                --color-accent-emphasis: #58a6ff;
                --color-accent-fg: #58a6ff;
                --color-success-fg: #3fb950;
            }
        }

        body {
            font-family: var(--font-stack);
            background-color: var(--color-canvas-default);
            color: var(--color-fg-default);
            line-height: 1.5;
            padding: 24px;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
        }

        .profile-header {
            margin-bottom: 32px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--color-border-default);
        }

        .profile-header h1 {
            font-size: 32px;
            font-weight: 600;
            color: var(--color-fg-default);
            margin-bottom: 8px;
        }

        .profile-header p {
            font-size: 20px;
            color: var(--color-fg-muted);
        }

        .repo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
            gap: 16px;
        }

        .repo-card {
            background-color: var(--color-canvas-subtle);
            border: 1px solid var(--color-border-default);
            border-radius: 6px;
            padding: 16px;
            display: flex;
            flex-direction: column;
            text-decoration: none;
            color: inherit;
            transition: border-color 0.2s;
        }

        .repo-card:hover {
            border-color: var(--color-accent-emphasis);
        }

        .repo-thumbnail {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 6px;
            margin-bottom: 12px;
            background-color: var(--color-border-muted);
        }

        .repo-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .repo-name {
            font-size: 20px;
            font-weight: 600;
            color: var(--color-accent-fg);
            text-decoration: none;
        }

        .repo-name:hover {
            text-decoration: underline;
        }

        .repo-visibility {
            font-size: 12px;
            padding: 2px 7px;
            border: 1px solid var(--color-border-default);
            border-radius: 12px;
            color: var(--color-fg-muted);
            font-weight: 500;
        }

        .repo-description {
            font-size: 14px;
            color: var(--color-fg-muted);
            margin-bottom: 16px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .repo-footer {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-top: auto;
            font-size: 12px;
            color: var(--color-fg-subtle);
        }

        .repo-language {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .language-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--lang-color);
        }

        .language-colors {
            --javascript: #f1e05a;
            --swift: #fa7343;
            --typescript: #3178c6;
            --vue: #4fc08d;
            --shell: #89e051;
            --gdscript: #355570;
        }

        @media (max-width: 768px) {
            .repo-grid {
                grid-template-columns: 1fr;
            }

            body {
                padding: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="profile-header">
            <h1>Arial Gardner</h1>
            <p>AI-Native Software Developer and Product Engineer</p>
        </div>

        <div class="repo-grid" id="repo-grid"></div>
    </div>

    <script>
        const GITHUB_USER = 'fakero0t';
        
        const languageColors = {
            'JavaScript': '#f1e05a',
            'Swift': '#fa7343',
            'TypeScript': '#3178c6',
            'Vue': '#4fc08d',
            'Shell': '#89e051',
            'GDScript': '#355570'
        };

        const projects = [
            {
                name: 'algorave',
                description: 'A web-based mini DAW UI built on top of Strudel for pattern-based live music performance.',
                language: 'JavaScript',
                visibility: 'Public'
            },
            {
                name: 'canvas_rooms',
                description: 'Windows 98-themed multi-user space with chat rooms, Spotify playlist sharing, and collaborative art boards.',
                language: 'JavaScript',
                visibility: 'Public'
            },
            {
                name: 'kaiaachat',
                description: 'iOS-native Whatsapp clone implementation containing five AI-powered Georgian-learning features.',
                language: 'Swift',
                visibility: 'Public'
            },
            {
                name: 'invoiceme',
                description: 'TypeScript-based invoice management app for billing and payment tracking.',
                language: 'TypeScript',
                visibility: 'Public'
            },
            {
                name: 'videoeditor',
                description: 'Web-based video editing tool built with Vue.js for creating and manipulating video content.',
                language: 'Vue',
                visibility: 'Public'
            },
            {
                name: 'collab_canvas',
                description: 'AI-powered collaborative canvas application enabling real-time multi-user creative workflows.',
                language: 'JavaScript',
                visibility: 'Public'
            },
            {
                name: 'devsetup',
                description: 'Automated development environment configuration tool for streamlined onboarding.',
                language: 'Shell',
                visibility: 'Public'
            },
            {
                name: 'game_city',
                description: 'Space Invaders-style vocabulary learning game built in Godot 4.5',
                language: 'GDScript',
                visibility: 'Public'
            }
        ];

        function createRepoCard(project) {
            const card = document.createElement('a');
            card.href = `https://github.com/${GITHUB_USER}/${project.name}`;
            card.target = '_blank';
            card.className = 'repo-card';
            card.setAttribute('data-repo', project.name);

            const languageColor = languageColors[project.language] || '#6e7781';

            card.innerHTML = `
                <img src="https://opengraph.githubassets.com/1/${GITHUB_USER}/${project.name}" alt="${project.name}" class="repo-thumbnail" onerror="this.style.display='none'">
                <div class="repo-header">
                    <span class="repo-name">${project.name}</span>
                    <span class="repo-visibility">${project.visibility}</span>
                </div>
                <p class="repo-description">${project.description}</p>
                <div class="repo-footer">
                    <span class="repo-language">
                        <span class="language-color" style="background-color: ${languageColor};"></span>
                        ${project.language}
                    </span>
                </div>
            `;

            return card;
        }

        function renderProjects() {
            const grid = document.getElementById('repo-grid');
            projects.forEach(project => {
                const card = createRepoCard(project);
                grid.appendChild(card);
            });
        }

        async function fetchReadmeImage(repoName) {
            try {
                const response = await fetch(`https://api.github.com/repos/${GITHUB_USER}/${repoName}/readme`, {
                    headers: {
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });

                if (!response.ok) {
                    return null;
                }

                const data = await response.json();
                const content = atob(data.content);
                
                // Extract image URLs from markdown
                // Match both ![alt](url) and <img src="url"> formats
                const imageRegex = /!\[.*?\]\((.*?)\)|<img[^>]+src=["']([^"']+)["'][^>]*>/gi;
                const matches = [];
                let match;
                
                // Get the default branch from the html_url
                // Format: https://github.com/owner/repo/blob/branch/path
                const branchMatch = data.html_url.match(/\/blob\/([^\/]+)\//);
                const defaultBranch = branchMatch ? branchMatch[1] : 'main';
                const baseUrl = `https://raw.githubusercontent.com/${GITHUB_USER}/${repoName}/${defaultBranch}`;
                
                while ((match = imageRegex.exec(content)) !== null) {
                    const url = match[1] || match[2];
                    if (!url) continue;
                    
                    // Skip data URIs and already absolute URLs
                    if (url.startsWith('data:') || url.startsWith('http://') || url.startsWith('https://')) {
                        if (url.startsWith('http://') || url.startsWith('https://')) {
                            matches.push(url);
                        }
                        continue;
                    }
                    
                    // Handle relative URLs
                    if (url.startsWith('/')) {
                        // Absolute path from repo root
                        matches.push(`https://raw.githubusercontent.com/${GITHUB_USER}/${repoName}/${defaultBranch}${url}`);
                    } else {
                        // Relative path - resolve from README location
                        // README is typically at root, so just prepend base URL
                        matches.push(`${baseUrl}/${url}`);
                    }
                }

                return matches.length > 0 ? matches[0] : null;
            } catch (error) {
                console.error(`Error fetching README for ${repoName}:`, error);
                return null;
            }
        }

        async function loadReadmeImages() {
            const repoCards = document.querySelectorAll('.repo-card[data-repo]');
            
            for (const card of repoCards) {
                const repoName = card.getAttribute('data-repo');
                const img = card.querySelector('.repo-thumbnail');
                
                if (!img) continue;
                
                const readmeImageUrl = await fetchReadmeImage(repoName);
                
                if (readmeImageUrl) {
                    // Create new image to test if it loads
                    const testImg = new Image();
                    testImg.onload = () => {
                        img.src = readmeImageUrl;
                    };
                    testImg.onerror = () => {
                        // If README image fails, keep the Open Graph image
                    };
                    testImg.src = readmeImageUrl;
                }
            }
        }

        // Initialize page
        async function init() {
            renderProjects();
            // Wait for next tick to ensure DOM is updated
            await new Promise(resolve => setTimeout(resolve, 0));
            await loadReadmeImages();
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>
</html>
